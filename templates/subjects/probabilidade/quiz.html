{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}
{% block description %}Faça Quizs interativos sobre probabilidade e estatística{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/general/homepage.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/subjects/probabilidade/quiz.css') }}">
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/subjects/probabilidade/quiz.js') }}" defer></script>
{% endblock %}

{% block container_class %}subject-container{% endblock %}

{% block nav_links %}
<ul class="nav-links">
    <li><a href="{{ url_for('subject_home', subject=subject_id) }}">Início</a></li>
    {% for feature in subjects[subject_id].features %}
    <li>
        <a href="{{ url_for('subject_feature', subject=subject_id, feature=feature.id) }}" {% if feature_id==feature.id
            %}class="active" aria-current="page" {% endif %}>
            {{ translations.subject.pages[feature.name].title }}
        </a>
    </li>
    {% endfor %}
</ul>
{% endblock %}

{% block hero %}
<section class="subject-hero"></section>
{% endblock %}

{% block content %}
<div class="quiz-container">
    <div id="quizArea">
        <div id="quizHeader" class="quiz-header" style="display: none;">
            <h1 id="quizTitle" class="section-title quiz-title">{{ translations.page.title }}</h1>
            <div class="quiz-progress">
                <span class="progress-text">{{ translations.page.current_question.replace('{current}', '<span
                        id="currentQuestion">0</span>').replace('{total}', '<span id="totalQuestions">0</span>') | safe
                    }}</span>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <span class="score-text">{{ translations.page.score.replace('{score}', '<span id="score">0</span>') |
                    safe }}</span>
            </div>
        </div>

        <div id="questionContainer" class="question-container" style="display: none;">
            <p id="questionText" class="question-text"></p>
            <div id="optionsContainer" class="options-container">
                <div id="quizOptions" class="quiz-options"></div>
            </div>
        </div>

        <div id="feedback" class="feedback" style="display: none;"></div>
        <div id="quizControls" class="quiz-controls" style="display: none;">
            <button id="nextBtn" class="next-btn">{{ translations.general.next }}</button>
        </div>
        <div id="quizSummary" class="quiz-summary" style="display: none;">
            <h2>{{ translations.page.complete }}</h2>
            <p class="final-score">{{ translations.page.score.replace('{score}', '<span id="finalScore">0</span>') |
                safe }}</p>
            <button id="restartBtn" class="restart-btn">{{ translations.general.try_again }}</button>
        </div>
    </div>
</div>
{% endblock %}
<main class="container">
    <div class="quiz-container">
        <div id="quizArea">
            <div id="quizHeader" class="quiz-header" style="display: none;">
                <h1 id="quizTitle" class="section-title quiz-title">{{ translations.page.title }}</h1>
                <div class="quiz-progress"> <span class="progress-text">{{
                        translations.page.current_question.replace('{current}', '<span
                            id="currentQuestion">0</span>').replace('{total}', '<span id="totalQuestions">0</span>') |
                        safe }}</span>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <span class="score-text">{{ translations.page.score.replace('{score}', '<span id="score">0</span>')
                        | safe }}</span>
                </div>
            </div>

            <div id="questionContainer" class="question-container" style="display: none;">
                <p id="questionText" class="question-text"></p>
                <div id="optionsContainer" class="options-container">
                    <div id="quizOptions" class="quiz-options"></div>
                </div>
            </div>

            <div id="feedback" class="feedback" style="display: none;"></div>
            <div id="quizControls" class="quiz-controls" style="display: none;">
                <button id="nextBtn" class="next-btn">{{ translations.general.next }}</button>
            </div>
            <div id="quizSummary" class="quiz-summary" style="display: none;">
                <h2>{{ translations.page.complete }}</h2>
                <p class="final-score">{{ translations.page.score.replace('{score}', '<span id="finalScore">0</span>') |
                    safe }}</p>
                <button id="restartBtn" class="restart-btn">{{ translations.general.try_again }}</button>
            </div>
        </div>
    </div>
</main>
<footer class="footer">
    <div class="container">
        <p>&copy; 2025 {{ translations.general.platform_name }}. {{ translations.general.copyright }}</p>
    </div>
</footer>
</div><!-- Close subject-container -->

<script src="{{ url_for('static', filename='js/subjects/probabilidade/quiz.js') }}" defer></script>
</body>

</html>