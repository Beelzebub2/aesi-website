{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}
{% block description %}Calculadora estatística para distribuições binomial, Poisson e normal com visualização gráfica{%
endblock %}

{% block extra_css %}
<link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/general/homepage.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/general/form-elements.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/subjects/probabilidade/calculator.css') }}">
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/subjects/probabilidade/calculator.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/subjects/probabilidade/chart.js') }}" defer></script>
{% endblock %}

{% block container_class %}subject-container{% endblock %}

{% block nav_links %}
<ul class="nav-links">
    <li><a href="{{ url_for('subject_home', subject=subject_id) }}">Início</a></li>
    {% for feature in subjects[subject_id].features %}
    <li>
        <a href="{{ url_for('subject_feature', subject=subject_id, feature=feature.id) }}" {% if feature_id==feature.id
            %}class="active" aria-current="page" {% endif %}>
            {{ translations.subject.pages[feature.name].title }}
        </a>
    </li>
    {% endfor %}
</ul>
{% endblock %}

{% block hero %}
<section class="subject-hero"></section>
{% endblock %}

{% block content %}
<div class="calculator-container">
    <h1 class="section-title">{{ translations.page.title }}</h1>

    <div class="calculator-grid">
        <div class="calculator-card">
            <div class="distribution-select">
                <label for="distribution">Selecionar Distribuição:</label>
                <select id="distribution" class="form-select">
                    <option value="binomial">{{ translations.page.distributions.binomial.name }}</option>
                    <option value="poisson">{{ translations.page.distributions.poisson.name }}</option>
                    <option value="normal">{{ translations.page.distributions.normal.name }}</option>
                </select>
            </div>

            <div id="binomial-params" class="param-group">
                <div class="param-input">
                    <label for="n">{{ translations.page.distributions.binomial.params.n }}:</label>
                    <input type="number" id="n" min="1" value="10" class="form-input">
                </div>
                <div class="param-input">
                    <label for="p">{{ translations.page.distributions.binomial.params.p }}:</label>
                    <input type="number" id="p" min="0" max="1" step="0.01" value="0.5" class="form-input">
                </div>
                <div class="param-input">
                    <label for="k">{{ translations.page.distributions.binomial.params.k }}:</label>
                    <input type="number" id="k" min="0" value="5" class="form-input">
                </div>
            </div>

            <div id="poisson-params" class="param-group hidden">
                <div class="param-input">
                    <label for="lambda">{{ translations.page.distributions.poisson.params.lambda }}:</label>
                    <input type="number" id="lambda" min="0" step="0.1" value="2" class="form-input">
                </div>
                <div class="param-input">
                    <label for="k-poisson">{{ translations.page.distributions.poisson.params.k }}:</label>
                    <input type="number" id="k-poisson" min="0" value="2" class="form-input">
                </div>
            </div>

            <div id="normal-params" class="param-group hidden">
                <div class="param-input">
                    <label for="mean">{{ translations.page.distributions.normal.params.mean }}:</label>
                    <input type="number" id="mean" step="0.1" value="0" class="form-input">
                </div>
                <div class="param-input">
                    <label for="std">{{ translations.page.distributions.normal.params.std }}:</label>
                    <input type="number" id="std" min="0.1" step="0.1" value="1" class="form-input">
                </div>
                <div class="param-input">
                    <label for="x">{{ translations.page.distributions.normal.params.x }}:</label>
                    <input type="number" id="x" step="0.1" value="0" class="form-input">
                </div>
                <div class="param-input">
                    <label for="probability-type">{{ translations.page.distributions.normal.params.probability_type
                        }}:</label>
                    <select id="probability-type" class="form-select">
                        <option value="less">P(X ≤ x)</option>
                        <option value="greater">P(X > x)</option>
                        <option value="between">P(a ≤ X ≤ b)</option>
                    </select>
                </div>
                <div id="between-input" class="param-input hidden">
                    <label for="x2">Limite superior (b):</label>
                    <input type="number" id="x2" step="0.1" value="1" class="form-input">
                </div>
            </div>

            <div class="calculator-buttons">
                <button id="calculate" class="button">
                    <span>Calcular Probabilidade</span>
                </button>
            </div>

            <div id="result" class="result-container">
                <h3>Resultado:</h3>
                <p class="result-value">-</p>
                <p class="result-explanation">-</p>
            </div>
        </div>

        <div class="chart-container">
            <canvas id="distributionChart"></canvas>
        </div>
    </div>
</div>
{% endblock %}

{% block bottom_js %}
<script src="{{ url_for('static', filename='js/general/theme.js') }}"></script>
{% endblock %}

<div class="container">
    <div class="calculator-container">
        <h1 class="section-title">Calculadora de Distribuições Estatísticas</h1>

        <div class="calculator-grid">
            <div class="calculator-card">
                <div class="distribution-select">
                    <label for="distribution">Selecionar Distribuição:</label>
                    <select id="distribution" class="form-select">
                        <option value="binomial">Distribuição Binomial</option>
                        <option value="poisson">Distribuição de Poisson</option>
                        <option value="normal">Distribuição Normal</option>
                    </select>
                </div>

                <div id="binomial-params" class="param-group">
                    <div class="param-input">
                        <label for="n">Número de tentativas (n):</label>
                        <input type="number" id="n" min="1" value="10" class="form-input">
                    </div>
                    <div class="param-input">
                        <label for="p">Probabilidade de sucesso (p):</label>
                        <input type="number" id="p" min="0" max="1" step="0.01" value="0.5" class="form-input">
                    </div>
                    <div class="param-input">
                        <label for="k">Número de sucessos (k):</label>
                        <input type="number" id="k" min="0" value="5" class="form-input">
                    </div>
                </div>

                <div id="poisson-params" class="param-group hidden">
                    <div class="param-input">
                        <label for="lambda">Taxa média (λ):</label>
                        <input type="number" id="lambda" min="0" step="0.1" value="2" class="form-input">
                    </div>
                    <div class="param-input">
                        <label for="k-poisson">Número de eventos (k):</label>
                        <input type="number" id="k-poisson" min="0" value="2" class="form-input">
                    </div>
                </div>

                <div id="normal-params" class="param-group hidden">
                    <div class="param-input">
                        <label for="mean">Média (μ):</label>
                        <input type="number" id="mean" step="0.1" value="0" class="form-input">
                    </div>
                    <div class="param-input">
                        <label for="std">Desvio padrão (σ):</label>
                        <input type="number" id="std" min="0.1" step="0.1" value="1" class="form-input">
                    </div>
                    <div class="param-input">
                        <label for="x">Valor (x):</label>
                        <input type="number" id="x" step="0.1" value="0" class="form-input">
                    </div>
                    <div class="param-input">
                        <label for="probability-type">Tipo de probabilidade:</label>
                        <select id="probability-type" class="form-select">
                            <option value="less">P(X ≤ x)</option>
                            <option value="greater">P(X > x)</option>
                            <option value="between">P(a ≤ X ≤ b)</option>
                        </select>
                    </div>
                    <div id="between-input" class="param-input hidden">
                        <label for="x2">Limite superior (b):</label>
                        <input type="number" id="x2" step="0.1" value="1" class="form-input">
                    </div>
                </div>

                <div class="calculator-buttons"> <button id="calculate" class="button">
                        <span>Calcular Probabilidade</span>
                    </button>
                </div>

                <div id="result" class="result-container">
                    <h3>Resultado:</h3>
                    <p class="result-value">-</p>
                    <p class="result-explanation">-</p>
                </div>
            </div>

            <div class="chart-container">
                <canvas id="distributionChart"></canvas>
            </div>
        </div>
    </div>
</div>

<footer class="footer">
    <div class="container">
        <p>&copy; 2025 Plataforma de Aprendizagem Interativa. Todos os direitos reservados.</p>
    </div>
</footer>
</div>
<script src="{{ url_for('static', filename='js/general/theme.js') }}"></script>
</body>

</html>